<app-header></app-header>

    <div class="overlay">
        <div sectionover>
          <p>
            Chez Flowvence, nous croyons que chaque événement doit être unique et refléter parfaitement la personnalité et les goûts de son organisateur.
        </p>
        </div>
    </div>
    
<div class="filter-form">
  <input type="text" placeholder="Rechercher...">
  <button type="submit">Filtrer</button>
</div>

<!-- Affichage des cartes d'invitations -->
<div class="container d-flex flex-wrap justify-content-center">
  <div class="cartein card-container" *ngFor="let carte of carteinvitations">
    <div class="card position-relative" id="carte-{{ carte.id }}">
      <img *ngIf="carte.image" [src]="getPhotoUrl(carte.image)" class="card-img-top rounded-top img-fluid" alt="{{ carte.nom }}">
      <div class="card-content position-absolute top-50 start-50 translate-middle text-center">
        <h3>{{ carte.nom }}</h3>        
        <p>{{ carte.contenu }}</p>

        <div class="icons d-flex justify-content-center align-items-center mt-3">
          <i class="bi bi-pencil-square me-3" style="cursor:pointer" (click)="editCarte(carte)"></i>
          <i class="bi bi-send-fill me-3" style="cursor:pointer"></i> <!-- icône send -->
          <i class="bi bi-download" style="cursor:pointer" (click)="downloadCarteImage(carte)"></i> <!-- icône download -->
        </div>
      </div>
    </div>
  </div>
</div>



<!-- Modal pour éditer la carte sélectionnée -->
<div *ngIf="showEditModal" class="modal" tabindex="-1" style="display: block;">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Modifier la carte</h5>
        <button type="button" class="btn-close" (click)="closeEditModal()"></button>
      </div>
      <div class="modal-body">
    <!-- Assurez-vous que ces propriétés sont correctement définies dans le .ts -->
<input [(ngModel)]="selectedCarte.nom" placeholder="Nom de la carte" class="form-control" />
<textarea [(ngModel)]="selectedCarte.contenu" placeholder="Contenu de la carte" class="form-control"></textarea>

      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" (click)="updateCarte()">Sauvegarder</button>
        <button type="button" class="btn btn-secondary" (click)="closeEditModal()">Annuler</button>
      </div>
    </div>
  </div>
</div>

<app-footer></app-footer>
