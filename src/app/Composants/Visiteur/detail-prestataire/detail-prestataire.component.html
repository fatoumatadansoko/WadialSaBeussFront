  <div class="container">
    <h1 class="text-center">Détails prestataire</h1>

    <!-- Assurez-vous que prestataire et user existent avant d'y accéder -->
    <div *ngIf="prestataire && prestataire.user" class="prestataire-details">
      <div class="prestataire-info col-md-6">
        <!-- Affichez le nom du prestataire -->
        <h3>{{ prestataire.user.nom }}</h3>

        <!-- Exemple d'étoiles de notation (à adapter) -->
        <div class="rating">★★★★★</div>

        <!-- Informations de contact du prestataire -->
        <div class="contact-container">
          <div class="contact-info">
            <i class="bi bi-geo-alt-fill"></i>
            <span>{{ prestataire.user.adresse }}</span>
          </div>
          <div class="contact-info">
            <i class="bi bi-telephone-fill"></i>
            <span>{{ prestataire.user.telephone }}</span>
          </div>
          <div class="contact-info">
            <i class="bi bi-envelope-fill"></i>
            <span>{{ prestataire.user.email }}</span>
          </div>
        </div>

        <!-- Description du prestataire -->
        <p>{{ prestataire.description }}</p>

   <!-- Section d'évaluation -->
<!-- Section d'évaluation -->
<div class="review-section">
  <h4>Noter le prestataire</h4>
  <div class="stars">★★★★★</div>
  <div class="rating">
    <i 
      class="bi bi-star" 
      *ngFor="let star of [1, 2, 3, 4, 5]; let i = index" 
      (click)="rate(i + 1)" 
      [class.filled]="i < rating">
    </i>
  </div>
  <p>Note actuelle : {{ rating }}/5</p>
    
  <!-- Champ pour le contenu du commentaire -->
  <textarea
      class="form-control mt-2"
      rows="3"
      placeholder="Contenu du commentaire"
      [(ngModel)]="commentaireText"
      required
  ></textarea>


  <button
      class="btn mt-2"
      (click)="publierCommentaire()"
      [disabled]="!commentaireText.trim()"
  >
      Publier
  </button>
</div>


<img [src]="photoUrl" alt="Logo du prestataire">

<img *ngIf="prestataire" [src]="prestataire.logo || '../../../../assets/images/default.png'" alt="Logo">
  
    <!-- Section des commentaires -->
    <div class="testimonials mt-5"  *ngIf="commentaires.length > 0">
      <h4>Nos témoignages</h4>
      <div class="row">
        <div class="col-md-6" *ngFor="let commentaire of commentaires">
          <p>{{ commentaire.contenu }}</p>

        </div>
      </div>
    </div>
    <!-- <div *ngIf="prestataire">
      <h2>Détails du prestataire</h2>
      
      <p><strong>Nom:</strong> {{ prestataire.user?.nom || 'Nom non disponible' }}</p>
      <p><strong>Email:</strong> {{ prestataire.user?.email || 'Email non disponible' }}</p>
      <p><strong>NINEA:</strong> {{ prestataire.ninea || 'NINEA non disponible' }}</p>
      <p><strong>Téléphone:</strong> {{ prestataire.user?.telephone || 'Téléphone non disponible' }}</p>
      <p><strong>Adresse:</strong> {{ prestataire.user?.adresse || 'Adresse non disponible' }}</p>
      <p><strong>Description:</strong> {{ prestataire.user?.description || 'Description non disponible' }}</p>       
      <img *ngIf="prestataire?.logo" [src]="photoUrl" alt="Logo du prestataire">
    </div> -->
    
